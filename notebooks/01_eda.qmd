---
title: "Exploratory Data Analysis (EDA)"
author: "Harriet O'Brien, Vy Tran, Saniyah Khan, Rehinatu Usman"
format: 
    html:
        toc: true
        number-sections: true
        theme: cosmo
---


# Introduction:
The goal of this exploratory data analysis is to understand the historical reimbursement patterns in ACME Corporation's legacy system. 

We will summarize and visualize the data to identify trends, relationships, and potential business rules that influence the reimbursement amount. 


```{python}
# Basic imports
import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
import seaborn as sns

# Display settings
pd.set_option('display.max_columns', None)
sns.set(style="whitegrid")
```
```{python}
import json

# Load JSON dataset
with open("../data/public_cases.json", "r") as f:
    data = json.load(f)

df = pd.DataFrame(data)
df.head()
```
```{python}
df.info()
df.describe()
df.isnull().sum()
```
```{python}
features = pd.json_normalize(df['input'])
features['reimbursement_amount'] = df['expected_output']

features.head()
features.info()
```
```{python}
num_cols = ['trip_duration_days', 'miles_traveled',
            'total_receipts_amount', 'reimbursement_amount']

for col in num_cols:
    plt.figure(figsize=(6,4))
    sns.histplot(features[col], kde=True)
    plt.title(f"Distribution of {col}")
    plt.show()
```
```{python}
plt.figure(figsize=(8,6))
sns.heatmap(features.corr(), annot=True, cmap="coolwarm", fmt=".2f")
plt.title("Correlation Heatmap")
plt.show()
```
```{python}
sns.pairplot(features[num_cols])
plt.show()
```
```{python}
for col in num_cols:
    plt.figure(figsize=(5,4))
    sns.boxplot(x=features[col])
    plt.title(f"Outliers in {col}")
    plt.show()
```
```{python}
df.columns
```
## Summary of Findings

- *Trip duration days* shows a right-skewed distribution with some long trips.
- *Miles traveled* has several extreme outliers (likely long-distance travel).
- *Total receipts amount* is moderately correlated with the reimbursement amount.
- Correlation analysis shows that reimbursement amount is most strongly associated with:
  - total_receipts_amount
  - miles_traveled
- Outliers may reflect special cases in reimbursement rules.
- These patterns suggest possible business logic:
  - Longer trips → higher reimbursement
  - Higher miles traveled → potentially additional mileage reimbursement
  - Receipts strongly influence total reimbursement amount




